---
// src/pages/blog/[slug].astro
import { getEntryBySlug } from 'astro:content';
import { AstroError } from 'astro/errors';
import { slug } from 'astro:params';
import { components } from '../../components/MDXComponents';

const entry = await getEntryBySlug('blog', slug);

if (!entry) {
  throw new AstroError(`No post found for slug: ${slug}`);
}

const { Content, data } = await entry.render();
---

<article class="prose prose-lg mx-auto">
  <h1>{data.title}</h1>
  <p class="text-gray-500 text-sm">{data.pubDate?.toDateString()}</p>
  <Content components={components} />
</article>
